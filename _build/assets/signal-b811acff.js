import{$ as u,e as P,g as m,f as N,h as S}from"./web-019beeb5.js";const $=Symbol("store-raw"),d=Symbol("store-node"),c=Symbol("store-has"),j=Symbol("store-self");function E(e){let n=e[u];if(!n&&(Object.defineProperty(e,u,{value:n=new Proxy(e,B)}),!Array.isArray(e))){const t=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let s=0,r=t.length;s<r;s++){const f=t[s];i[f].get&&Object.defineProperty(e,f,{enumerable:i[f].enumerable,get:i[f].get.bind(n)})}}return n}function y(e){let n;return e!=null&&typeof e=="object"&&(e[u]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function a(e,n=new Set){let t,i,s,r;if(t=e!=null&&e[$])return t;if(!y(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let f=0,o=e.length;f<o;f++)s=e[f],(i=a(s,n))!==s&&(e[f]=i)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const f=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let l=0,O=f.length;l<O;l++)r=f[l],!o[r].get&&(s=e[r],(i=a(s,n))!==s&&(e[r]=i))}return e}function b(e,n){let t=e[n];return t||Object.defineProperty(e,n,{value:t=Object.create(null)}),t}function g(e,n,t){if(e[n])return e[n];const[i,s]=S(t,{equals:!1,internal:!0});return i.$=s,e[n]=i}function M(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===u||n===d||(delete t.value,delete t.writable,t.get=()=>e[u][n]),t}function R(e){m()&&g(b(e,d),j)()}function K(e){return R(e),Reflect.ownKeys(e)}const B={get(e,n,t){if(n===$)return e;if(n===u)return t;if(n===P)return R(e),t;const i=b(e,d),s=i[n];let r=s?s():e[n];if(n===d||n===c||n==="__proto__")return r;if(!s){const f=Object.getOwnPropertyDescriptor(e,n);m()&&(typeof r!="function"||e.hasOwnProperty(n))&&!(f&&f.get)&&(r=g(i,n,r)())}return y(r)?E(r):r},has(e,n){return n===$||n===u||n===P||n===d||n===c||n==="__proto__"?!0:(m()&&g(b(e,c),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:K,getOwnPropertyDescriptor:M};function A(e,n,t,i=!1){if(!i&&e[n]===t)return;const s=e[n],r=e.length;t===void 0?(delete e[n],e[c]&&e[c][n]&&s!==void 0&&e[c][n].$()):(e[n]=t,e[c]&&e[c][n]&&s===void 0&&e[c][n].$());let f=b(e,d),o;if((o=g(f,n,s))&&o.$(()=>t),Array.isArray(e)&&e.length!==r){for(let l=e.length;l<r;l++)(o=f[l])&&o.$();(o=g(f,"length",r))&&o.$(e.length)}(o=f[j])&&o.$()}function _(e,n){const t=Object.keys(n);for(let i=0;i<t.length;i+=1){const s=t[i];A(e,s,n[s])}}function F(e,n){if(typeof n=="function"&&(n=n(e)),n=a(n),Array.isArray(n)){if(e===n)return;let t=0,i=n.length;for(;t<i;t++){const s=n[t];e[t]!==s&&A(e,t,s)}A(e,"length",i)}else _(e,n)}function h(e,n,t=[]){let i,s=e;if(n.length>1){i=n.shift();const f=typeof i,o=Array.isArray(e);if(Array.isArray(i)){for(let l=0;l<i.length;l++)h(e,[i[l]].concat(n),t);return}else if(o&&f==="function"){for(let l=0;l<e.length;l++)i(e[l],l)&&h(e,[l].concat(n),t);return}else if(o&&f==="object"){const{from:l=0,to:O=e.length-1,by:D=1}=i;for(let w=l;w<=O;w+=D)h(e,[w].concat(n),t);return}else if(n.length>1){h(e[i],n,[i].concat(t));return}s=e[i],t=[i].concat(t)}let r=n[0];typeof r=="function"&&(r=r(s,t),r===s)||i===void 0&&r==null||(r=a(r),i===void 0||y(s)&&y(r)&&!Array.isArray(r)?_(s,r):A(e,i,r))}function T(...[e,n]){const t=a(e||{}),i=Array.isArray(t),s=E(t);function r(...f){N(()=>{i&&f.length===1?F(t,f[0]):h(t,f)})}return[s,r]}class k{constructor(){[this._list,this.set]=T(Array()),this.id=0}get list(){return this._list}get count(){return this.list.length}delete(n){this.set(t=>t.filter(i=>i.id!==n))}reset(){this.set([]),this.id=0}}class Y extends k{exist(n){return this.list.map(t=>t.name).indexOf(n)!==-1}add(n){this.set(t=>[...t,{id:++this.id,name:n}])}name(n){return this.list.find(t=>t.id===n)?.name}}class z extends k{add(n,t=0){return this.set(i=>[...i,{id:++this.id,payer:n[0],money:t,members:n,memo:""}]),this.id}delete(){return this.list.length==1?!1:(this.set(n=>n.slice(0,-1)),!0)}change(n,t,i){this.set(s=>s.id===n,t,i)}updateMember(n,t){const i=this.list.find(s=>s.id===n);i&&(i.members.find(s=>s===t)?this.change(n,"members",i.members.filter(s=>s!==t)):this.change(n,"members",[...i.members,t].sort()))}selectAll(n,t){this.change(n,"members",t.list.map(i=>i.id))}unselectAll(n){this.change(n,"members",[])}memo(n){return this.list.find(t=>t.id===n)?.memo||"(내용 없음)"}isValid(){if(this.count===0)return!1;for(let n=0;n<this.list.length;n++){const t=this.list[n];if(t.money<=0||t.members.length===0)return!1}return!0}}const W=new Y,q=new z;var L=function(e){return e[e.MEMBER=0]="MEMBER",e[e.MONEY=1]="MONEY",e[e.RESULT=2]="RESULT",e}(L||{});const[C,H]=S(L.MEMBER);export{L as T,C as c,W as m,q as p,H as s};
